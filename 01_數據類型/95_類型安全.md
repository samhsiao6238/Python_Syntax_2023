# 類型安全

_Type Safety，說明何謂類型安全，不僅限於 Python 。_

<br>

## 說明

1. 在 Python 中提到 `類型安全` 時，通常是在討論程式語言在編譯或運行時 `如何處理類型訊息`，以及 `如何預防類型錯誤`，類型安全的程式碼能夠確保只有預期內的操作可以執行，從而防止因資料類型不匹配而引起的運行時錯誤。

<br>

2. **類型檢查**：類型安全語言會在編譯時或執行時進行類型檢查，以確保變數和傳回值的類型符合預期，類型檢查可以是靜態的 `在編譯時完成` 或動態的 `在執行階段完成`。

<br>

3. **類型推斷**：在一些具有類型安全的語言中如 `Haskell`、`Scala`，編譯器能夠自動推斷表達式的類型，無需明確聲明，Python 需透過第三方工具如 `MyPy` 支援一定程度的型別推斷。

<br>

4. **型別轉換**：類型安全的環境通常會限制或控制型別轉換，只允許安全的或明確的型別轉換，在 Python 中，雖然自動型別轉換較為自由，如整數與浮點數之間的轉換，但某些轉換必須明確進行，如將字串轉換為整數。

<br>

5. **Python 中的型別安全**：雖然 Python 是一種動態類型語言，它在運行時會自動檢查類型，但它允許使用 `typing` 模組來增加靜態類型檢查的功能，從而增強類型安全性。

<br>

6. **使用 `typing` 模組**：Python 的 `typing` 模組提供了一系列工具和類型標註，讓開發者可以為變數、函數參數和傳回值指定預期類型，這些類型資訊可以被 IDE 和靜態類型檢查工具如 `MyPy` 使用，以在程式碼運行前發現潛在的類型錯誤。

<br>

## 範例

1. 程式碼。

_在這個例子中，`process_items` 函數透過類型註解指定了期望輸入整數列表，並傳回一個字串到整數的字典，如果傳入非整數列表，靜態類型檢查工具將能夠在程式碼運行前指出錯誤。_

    ```python
    from typing import List, Dict

    def process_items(items: List[int]) -> Dict[str, int]:
        return {str(item): item for item in items}

    process_items([1, 2, 3]) # 正確
    process_items(["one", "two", "three"]) # 靜態型別檢查將顯示錯誤
    ```

<br>

___

_END_