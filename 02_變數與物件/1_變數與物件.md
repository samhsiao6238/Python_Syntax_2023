# 變數與物件的差異

- 在 Python 中所有的數據資料都是物件，而變數就是指向這些物件參考的名稱，舉凡物件建立的時候都會建立全新的參考，但不一定要賦值給變數；若將物件賦值給變數時，也就是將變數指向物件的參考，也可說是將物件的參考指定給變數。（補充一下，這裡是希望透過各種不同角度與方式的描述來具體理解這個過程）


- 物件在建立的時候若沒有立即賦值給變數，則建立後會立即消滅，如果再次透過字面量或任何方式建立相同內容物件並賦值給變數，這將會建立一個全新的物件，唯有內容相同而已。


- 若將變數賦值給變數，這時會將原本變數的參考指定給新的變數，也就是兩個變數會有相同的參考，這個過程可稱為參考的賦值。

- 依據物件的可變與不可變特性，當物件為不可變類型時，若對物件的內容進行修改並賦值，將會建立新的物件並將新的參考指派給變數，也就是變數的 id 與值都會改變，其它參考到原物件的變數不受影響；而這種狀況有個例外就是不可變變數的快取（請參考相關章節筆記）；若物件為可變類型，當修改物件的內容時，Python 會透過參考對原有物件的值進行改變並保留原 id，也就是不會建立新物件，這時若有其他變數指向同一個可變物件的參考時，另一個變數的值也會改變。

<br>

## 建立物件的方式

- 透過字面量

- 構造函數

- 調用特定函數

- 透過自訂類

<br>

### 透過字面量（Literal）

- 字面量是 Python 最簡單的表達式（expression）。

- 字面量是一串可以被 Python 解釋器解析的代碼。

- 抱歉給您帶來了困擾。以下是根據您的描述進行修正的段落：

- 每次以字面量做賦值都會建立新物件（有個例外就是「不可變類型物件的緩衝」），特別注意一點，透過字面量來賦值只是 Python 解釋器閱讀源碼的一個過程，雖然看似一個建構機制但實則沒有建構子，僅可視為一個初始化過程，也就是設定變數指向變數的初始狀態。

- 字面量是一個有特定值的表達式，如下。當解釋器讀到這些源碼時，它會建立新的物件，建立後，將物件的參考指定給變數，這個過程稱為賦值，或稱為讓變數參考某個物件；特別說明，這些敘述在極白話地表達就是某變數等於某個值，但實際上可以有更精準的表達。

    ```python
    int (1)
    float (1.0)
    complex (1.2+3j)
    str ('Hello', "Hello", '''Hello''', """Hello""")
    bool (True, False)
    list []
    tuple ()
    set {}  # 注意：只有當集合中有元素時才使用大括號，否則它將被認為是一個字典)、
    dict {:} 
    ```



<br>

### 字面量賦值、以字面量建立物件
*變數指向物件的記憶體位置，也就是物件的參考，或說變數參考了 id*


- 下列三個都是表達式
    ```python
    5
    'Hello World'
    [1, 2, 3]
    ```
- 建立數字物件
    ```python
    num = 1
    ```
- 建立字串物件
    ```python
    str_1 = "Hello"
    ```
- 建立列表物件
    ```python
    lst_1 = [1, 2, 3]
    ```
- 建立字典物件
    ```python
    dict_1 = {"key": "value"}
    ```

</br>

### 以構造函數（Constructor）建立物件

*包含 Python 內建的類與自定義的類，調用構造函數可建立全新物件。*

- 若出現以下訊息，這表示正調用的對象是不可調用的。
- 在這些特定的例子中，正嘗試調用的對象是一個字符串 (str) 或字典 (dict)。
    ```bash
    'str' object is not callable
    ```
    或出現
    ```bash
    'dict' object is not callable
    ```

- 在以下多種情況下都會產生錯誤
    ```python
    str = "Hello, World!"
    x = str(123)  # 這將導致 'str' object is not callable 的錯誤
    ```
    ```python
    my_dict = {}
    my_value = my_dict.get  # 注意，這裡缺少了調用的括號
    result = my_value()     # 這將導致 'dict' object is not callable 的錯誤
    ```
    ```python
    my_string = "Hello, World!"
    result = my_string()  # 這將導致 'str' object is not callable 的錯誤
    ```


- 雖然執行下列指令可以排除，但並不建議
    ```python
    del str
    del dict
    ```

- 使用 int 構造函數創建數字物件
    ```python
    num = int("1")
    ```

- 使用 str 構造函數創建字串物件
    ```python
    s = "Hello"
    str_1 = str(s)
    ```

- 使用 list 構造函數創建列表物件
    ```python
    lst_1 = list((1, 2, 3))
    ```

- 使用 dict 構造函數創建字典物件
    ```python
    dict_1 = dict(key="value")
    ```

</br>

### 調用特定函數建立物件

*在 Python 中，有許多的 `類（Class）` 都有這些建立物件的特定方法，如 `range()`、`splite()`、`numpy` 模組的 `arange` 等。*

- 使用內建的 `range` 函數創建一個 `範圍物件`
    ```python
    r = range(10)
    ```

- 使用字串的 `split` 函數創建新的 `列表物件`
    ```python
    str_1 = "Hello World"
    lst = str_1.split(" ")
    ```

- 使用 `numpy` 模組的 `arang` 函數創建一個 `ndarray` 物件
    ```python
    import numpy as np
    arr = np.arange(10)
    ```

</br>

### 透過自訂義的類建立物件


```python
    class MyClass:
        def __init__(self, x):
            self.x = x

    obj = MyClass(10) 
    obj
```
- 輸出
  ```
  <__main__.MyClass at 0x1120f8c70>
  ```

---

END
